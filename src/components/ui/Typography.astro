---
import type { Polymorphic } from "astro/types";

const typographyTag = [
  "p",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "span",
] as const;
const typographyVariant = [
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "button",
  "body1",
  "body2",
  "code",
] as const;

type Props<Tag extends (typeof typographyTag)[number]> = Polymorphic<{
  as: Tag;
}> & {
  variant: (typeof typographyVariant)[number];
};

let { as: Tag, variant, class: className, ...others } = Astro.props;
if (Tag == undefined) {
  Tag = variant.startsWith("h") ? variant : "p";
}

---

<Tag {...others} class:list={[`typography-${variant}`, className]}>
  <slot />
</Tag>

<style>
.typography-h1 {
    font-family: var(--typography-h1-fontFamily);
    font-weight: var(--typography-h1-fontWeight);
    font-size: var(--typography-h1-fontSize);
    line-height: var(--typography-h1-lineHeight);
}

.typography-h2 {
    font-family: var(--typography-h2-fontFamily);
    font-weight: var(--typography-h2-fontWeight);
    font-size: var(--typography-h2-fontSize);
    line-height: var(--typography-h2-lineHeight);
}

.typography-h3 {
    font-family: var(--typography-h3-fontFamily);
    font-weight: var(--typography-h3-fontWeight);
    font-size: var(--typography-h3-fontSize);
    line-height: var(--typography-h3-lineHeight);
}

.typography-h4 {
    font-family: var(--typography-h4-fontFamily);
    font-weight: var(--typography-h4-fontWeight);
    font-size: var(--typography-h4-fontSize);
    line-height: var(--typography-h4-lineHeight);
}

.typography-h5 {
    font-family: var(--typography-h5-fontFamily);
    font-weight: var(--typography-h5-fontWeight);
    font-size: var(--typography-h5-fontSize);
    line-height: var(--typography-h5-lineHeight);
}

.typography-h6 {
    font-family: var(--typography-h6-fontFamily);
    font-weight: var(--typography-h6-fontWeight);
    font-size: var(--typography-h6-fontSize);
    line-height: var(--typography-h6-lineHeight);
}

.typography-button {
    font-family: var(--typography-button-fontFamily);
    font-weight: var(--typography-button-fontWeight);
    font-size: var(--typography-button-fontSize);
    line-height: var(--typography-button-lineHeight);
}

.typography-body1 {
    font-family: var(--typography-body1-fontFamily);
    font-weight: var(--typography-body1-fontWeight);
    font-size: var(--typography-body1-fontSize);
    line-height: var(--typography-body1-lineHeight);
}

.typography-body2 {
    font-family: var(--typography-body2-fontFamily);
    font-weight: var(--typography-body2-fontWeight);
    font-size: var(--typography-body2-fontSize);
    line-height: var(--typography-body2-lineHeight);
}

.typography-code {
    font-family: var(--typography-code-fontFamily);
    font-weight: var(--typography-code-fontWeight);
    font-size: var(--typography-code-fontSize);
    line-height: var(--typography-code-lineHeight);
}
</style>
